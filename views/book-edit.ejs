<% include partials/manage/header.ejs %>

<h2 class="mt-4">Edit Book</h2>
<!-- Error Message -->
<% if(errors){ %>
<ul>
    <% errors.forEach(function(error){ %>
    <div class="alert alert-warning">
        <li>
            <%= error.msg %>
        </li>
    </div>
    <% }) %>
</ul>
<% } %>
<form method="post">
    <div class="form-group">
        <label for="title">Title:</label>
        <input name="title" type="text" class="form-control" value="<%= book.title %>" />
    </div>
    <div class="form-group">
        <label for="author">Author:</label>
        <input name="author" type="text" class="form-control" value="<%= book.author %>" />
    </div>
    <div class="form-group">
        <label for="publisher">Publisher:</label>
        <input name="publisher" type="text" class="form-control" value="<%= book.publisher %>" />
    </div>
    <div class="form-group">
        <label for="price">Price:</label>
        <input name="price" type="text" class="form-control" value="<%= book.price %>" />
    </div>
    <div class="form-group">
        <label for="category">Category:</label>
        <select name="category" class="form-control">
            <!--  loop through the categories  -->
            <% categories.forEach(function(category){%>
            <option value="<%= category.name %>"><%= category.name %></option>
            <%}) %>
        </select>
    </div>
    <div class="form-group">
        <label for="description">Description:</label>
        <textarea name="description" rows="5" class="form-control"><%= book.description %></textarea>
    </div>
    <div class="form-group">
        <label for="cover">Cover URL:</label>
        <input name="cover" type="text" class="form-control" value="<%= book.cover %>" />
    </div>
    <input type="submit" class="btn btn-primary" value="Submit">
    <input type="hidden" name="_csrf" value="{_csrf}">
</form>
</div>

<% include partials/manage/footer.ejs %>